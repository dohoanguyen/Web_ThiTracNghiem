@model Web_KLCN.Models.HOCVIEN
@{
    ViewBag.Title = "Thông tin cá nhân - TUQ";
    Layout = "~/Views/Shared/LayoutPage2.cshtml";
}

<!-- Styles -->
<style>
    body {
        background: linear-gradient(135deg, #f0f7ff 0%, #ffffff 100%);
        min-height: 100vh;
        font-family: 'Segoe UI', sans-serif;
    }

    .profile-card {
        background: #fff;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: 0.3s;
    }

        .profile-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

    .profile-header {
        text-align: center;
        margin-bottom: 25px;
    }

        .profile-header h3 {
            color: #1800AC;
            font-weight: 700;
        }

    .form-label {
        font-weight: 600;
    }

    .btn-primary-custom {
        background-color: #1800AC;
        border-color: #1800AC;
        color: #fff;
        border-radius: 10px;
        font-weight: 600;
        padding: 10px 20px;
    }

        .btn-primary-custom:hover {
            background: #150090;
            color: #fff !important;
        }

    .btn-outline-secondary {
        border-radius: 10px;
        font-weight: 600;
    }

    .alert {
        border-radius: 10px;
    }
</style>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="profile-card">

                <!-- Header -->
                <div class="profile-header">
                    <h3><i class="fa-solid fa-user-circle me-2"></i>Thông tin cá nhân</h3>
                </div>

                <!-- Thông báo -->
                @if (TempData["Success"] != null)
                {
                    <div class="alert alert-success alert-dismissible fade show mb-3">
                        <i class="fa-solid fa-circle-check me-2"></i>@TempData["Success"]
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                }
                @if (TempData["Error"] != null)
                {
                    <div class="alert alert-danger alert-dismissible fade show mb-3">
                        <i class="fa-solid fa-circle-exclamation me-2"></i>@TempData["Error"]
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                }

                <!-- Form -->
                <form method="post" action="@Url.Action("ThongTinCaNhan", "HocVien")" enctype="multipart/form-data">
                    @Html.AntiForgeryToken()
                    <input type="hidden" name="MaHV" value="@Model.MaHV" />

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Họ và tên</label>
                            <input type="text" name="TenHV" value="@Model.TenHV" class="form-control rounded-3" readonly />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Email</label>
                            <input type="email" name="Email" value="@Model.Email" class="form-control rounded-3" readonly />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Số điện thoại</label>
                            <input type="text" name="SDT" value="@Model.SDT" class="form-control rounded-3" />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Giới tính</label>
                            <select name="GioiTinh" class="form-select rounded-3">
                                <option value="Nam" @(Model.GioiTinh == "Nam" ? "selected" : "")>Nam</option>
                                <option value="Nữ" @(Model.GioiTinh == "Nữ" ? "selected" : "")>Nữ</option>
                            </select>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Ngày sinh</label>
                            <input type="date" name="NgaySinh"
                                   value="@(Model.NgaySinh.HasValue ? Model.NgaySinh.Value.ToString("yyyy-MM-dd") : "")"
                                   class="form-control rounded-3" />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Địa chỉ</label>
                            <input type="text" name="DiaChi" value="@Model.DiaChi" class="form-control rounded-3" />
                        </div>
                    </div>

                    <!-- Ảnh đại diện -->
                    <div class="mt-4">
                        <label class="form-label fw-semibold">Ảnh đại diện</label>
                        <div class="d-flex align-items-center">
                            <img src="~/hinhanh/@(Model.AnhDaiDien ?? "user.png")"
                                 alt="avatar" class="rounded-circle me-3 shadow" width="80" height="80" />
                            <input type="file" name="Anh" class="form-control rounded-3" style="max-width:300px;" />
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div class="text-center mt-5">
                        <button type="submit" class="btn btn-primary-custom">
                            <i class="fa-solid fa-save me-2"></i>Cập nhật thông tin
                        </button>
                        <a href="@Url.Action("Index", "HocVien")" class="btn btn-outline-secondary ms-2">
                            <i class="fa-solid fa-arrow-left me-2"></i>Quay lại
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
}
